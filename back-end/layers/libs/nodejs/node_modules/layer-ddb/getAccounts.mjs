import { QueryCommand } from '@aws-sdk/lib-dynamodb';
import { ddbDocClient } from './ddbDocClient.mjs';

const getAccounts = async (createUser, ProjectionExpression = 'id, label, currency, amount, sort, isHid') => {
  const params = {
    TableName: 'account',
    IndexName: 'accountIndex',
    KeyConditionExpression: 'createUser = :u',
    ExpressionAttributeValues: {
      ':u': createUser,
    },
    ProjectionExpression,
  };
  const data = await ddbDocClient.send(new QueryCommand(params));
  return data.Items;
};

export { getAccounts };
