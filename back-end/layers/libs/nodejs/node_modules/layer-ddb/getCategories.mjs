import { QueryCommand } from '@aws-sdk/lib-dynamodb';
import { ddbDocClient } from './ddbDocClient.mjs';

const getCategories = async (createUser) => {
  const params = {
    TableName: 'category',
    IndexName: 'categoryIndex',
    KeyConditionExpression: 'createUser = :u',
    ExpressionAttributeValues: {
      ':u': createUser,
    },
    ProjectionExpression: 'id, direction, label, sort, isHid',
  };
  const data = await ddbDocClient.send(new QueryCommand(params));
  return data.Items;
};

export { getCategories };
